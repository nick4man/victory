# ============================================
# АН "Виктори" - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# ============================================
# APPLICATION
# ============================================
RAILS_ENV=development
RACK_ENV=development
NODE_ENV=development

# Application host and port
HOST=localhost
PORT=3000

# Secret key base (generate with: rails secret)
SECRET_KEY_BASE=5c2e5dd1334b668a840e9f6e4e74434d0246edac140832e8b38d0e838a2c33cc7abf4b7532dbcc89a603a451c73030a98ea497d6113ac54d22f54a42f1c7eb3d

# ============================================
# DATABASE
# ============================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=viktory_realty_production
DATABASE_USERNAME=viktory_realty
DATABASE_PASSWORD=viktory_realty_secure_password_2024
DATABASE_POOL=5

# Test database
TEST_DATABASE_NAME=viktory_realty_test

# Production database (use DATABASE_URL instead in production)
# DATABASE_URL=postgresql://user:password@host:port/database

# ============================================
# REDIS
# ============================================
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_URL=redis://localhost:6379/1
REDIS_SIDEKIQ_URL=redis://localhost:6379/2

# ============================================
# SIDEKIQ
# ============================================
SIDEKIQ_CONCURRENCY=5
SIDEKIQ_QUEUE=default

# ============================================
# EMAIL CONFIGURATION
# ============================================
# SMTP settings
SMTP_ADDRESS=smtp.gmail.com
SMTP_PORT=587
SMTP_DOMAIN=viktory-realty.ru
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_AUTHENTICATION=plain
SMTP_ENABLE_STARTTLS_AUTO=true

# Default email addresses
DEFAULT_FROM_EMAIL=noreply@viktory-realty.ru
SUPPORT_EMAIL=support@viktory-realty.ru
ADMIN_EMAIL=admin@viktory-realty.ru

# ============================================
# DEVISE AUTHENTICATION
# ============================================
DEVISE_SECRET_KEY=a71cc2ba67abd5628bb008ca3a698768c9b09abb524e2cb0e2957d374484865061e5f085cb809048b1be4f4ecf502128ef7e7d2b8461ef9df2d16195b0ff94c5
DEVISE_PEPPER=your_devise_pepper_here

# ============================================
# OAUTH PROVIDERS
# ============================================
# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Yandex OAuth
YANDEX_CLIENT_ID=your_yandex_client_id
YANDEX_CLIENT_SECRET=your_yandex_client_secret

# ============================================
# ЯНДЕКС.КАРТЫ API
# ============================================
YANDEX_MAPS_API_KEY=your_yandex_maps_api_key

# ============================================
# CRM INTEGRATION (AmoCRM)
# ============================================
AMOCRM_SUBDOMAIN=your_subdomain
AMOCRM_CLIENT_ID=your_amocrm_client_id
AMOCRM_CLIENT_SECRET=your_amocrm_client_secret
AMOCRM_REDIRECT_URI=https://viktory-realty.ru/oauth/amocrm/callback
AMOCRM_ACCESS_TOKEN=your_access_token
AMOCRM_REFRESH_TOKEN=your_refresh_token

# ============================================
# SMS NOTIFICATIONS (SMSC.ru)
# ============================================
SMSC_LOGIN=your_smsc_login
SMSC_PASSWORD=your_smsc_password
SMSC_SENDER=ViktoryCR

# ============================================
# TELEGRAM BOT
# ============================================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id
TELEGRAM_WEBHOOK_URL=https://viktory-realty.ru/webhooks/telegram

# ============================================
# RECAPTCHA
# ============================================
RECAPTCHA_SITE_KEY=your_recaptcha_site_key
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key

# ============================================
# AWS S3 (for file uploads)
# ============================================
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=eu-central-1
AWS_S3_BUCKET=viktory-realty-uploads
AWS_S3_ENDPOINT=https://s3.eu-central-1.amazonaws.com

# ============================================
# ACTIVE STORAGE
# ============================================
ACTIVE_STORAGE_SERVICE=local
# For production use: amazon, google, azure

# ============================================
# YANDEX.METRIKA
# ============================================
YANDEX_METRIKA_ID=your_metrika_id

# ============================================
# GOOGLE ANALYTICS
# ============================================
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# ============================================
# SENTRY (Error Tracking)
# ============================================
SENTRY_DSN=your_sentry_dsn_here

# ============================================
# SCOUT APM (Performance Monitoring)
# ============================================
SCOUT_KEY=your_scout_apm_key
SCOUT_NAME=Viktory Realty

# ============================================
# PAYMENT GATEWAYS
# ============================================
# Yandex.Kassa (YooKassa)
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key

# Stripe (optional)
STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
STRIPE_SECRET_KEY=your_stripe_secret_key

# ============================================
# CDN & ASSETS
# ============================================
CDN_HOST=https://cdn.viktory-realty.ru
ASSET_HOST=

# ============================================
# RACK ATTACK (Rate Limiting)
# ============================================
RACK_ATTACK_ENABLED=true
RACK_ATTACK_LIMIT=300
RACK_ATTACK_PERIOD=300

# ============================================
# GEOCODING
# ============================================
GEOCODER_API_KEY=your_geocoder_api_key
GEOCODER_TIMEOUT=3

# ============================================
# FEATURE FLAGS (Flipper)
# ============================================
FLIPPER_ENABLED=true

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=debug
RAILS_LOG_TO_STDOUT=false

# ============================================
# PAGINATION
# ============================================
DEFAULT_PER_PAGE=20
MAX_PER_PAGE=100

# ============================================
# SESSION
# ============================================
SESSION_TIMEOUT=1440
SESSION_SECURE=false

# ============================================
# CACHE
# ============================================
CACHE_STORE=redis_cache_store
CACHE_EXPIRES_IN=3600

# ============================================
# BACKGROUND JOBS
# ============================================
ACTIVE_JOB_BACKEND=sidekiq

# ============================================
# ELASTICSEARCH (optional)
# ============================================
# ELASTICSEARCH_URL=http://localhost:9200

# ============================================
# WEBPACK DEV SERVER
# ============================================
WEBPACKER_DEV_SERVER_HOST=localhost
WEBPACKER_DEV_SERVER_PORT=3035

# ============================================
# ADMIN CREDENTIALS (for seeds)
# ============================================
ADMIN_DEFAULT_EMAIL=admin@viktory-realty.ru
ADMIN_DEFAULT_PASSWORD=change_me_in_production!

# ============================================
# API KEYS
# ============================================
API_KEY_SALT=your_random_salt_for_api_keys

# JWT for API
JWT_SECRET_KEY=your_jwt_secret_key
JWT_EXPIRATION_HOURS=24

# ============================================
# LOCALE & TIMEZONE
# ============================================
DEFAULT_LOCALE=ru
TIMEZONE=Europe/Moscow

# ============================================
# PWA
# ============================================
PWA_ENABLED=true

# ============================================
# WEBHOOKS
# ============================================
WEBHOOK_SECRET=your_webhook_secret_key

# ============================================
# EXTERNAL APIs
# ============================================
# DaData (address suggestions)
DADATA_API_KEY=your_dadata_api_key
DADATA_SECRET_KEY=your_dadata_secret_key

# CIAN API (optional)
CIAN_API_KEY=

# Avito API (optional)
AVITO_CLIENT_ID=
AVITO_CLIENT_SECRET=

# ============================================
# DEVELOPMENT TOOLS
# ============================================
# Letter Opener (for development email preview)
LETTER_OPENER_ENABLED=true

# Bullet (N+1 detection)
BULLET_ENABLED=true

# Web Console whitelist
WEB_CONSOLE_WHITELISTED_IPS=127.0.0.1,::1

# ============================================
# PERFORMANCE
# ============================================
WEB_CONCURRENCY=2
RAILS_MAX_THREADS=5

# ============================================
# SECURITY
# ============================================
FORCE_SSL=false
# Set to true in production

# Content Security Policy
CSP_ENABLED=true

# ============================================
# BACKUP
# ============================================
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=viktory-realty-backups

# ============================================
# MAINTENANCE MODE
# ============================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Site is under maintenance. Please check back soon.

# ============================================
# CUSTOM APPLICATION SETTINGS
# ============================================
# Property listing settings
FEATURED_PROPERTIES_COUNT=6
SIMILAR_PROPERTIES_COUNT=4
PROPERTY_IMAGES_LIMIT=20

# Mortgage calculator settings
DEFAULT_MORTGAGE_RATE=10.5
DEFAULT_MORTGAGE_TERM_YEARS=20
DEFAULT_INITIAL_PAYMENT_PERCENT=20

# Search settings
SEARCH_RESULTS_PER_PAGE=24
ENABLE_AI_RECOMMENDATIONS=true

# Contact settings
COMPANY_PHONE=+7 (XXX) XXX-XX-XX
COMPANY_EMAIL=info@viktory-realty.ru
COMPANY_ADDRESS=Москва, ул. Примерная, д. 1

# Working hours
WORKING_HOURS_START=09:00
WORKING_HOURS_END=21:00

# Social media
SOCIAL_VK=https://vk.com/viktory_realty
SOCIAL_TELEGRAM=https://t.me/viktory_realty
SOCIAL_INSTAGRAM=https://instagram.com/viktory_realty

# ============================================
# NOTES
# ============================================
# 1. Generate secret keys with: rails secret
# 2. Never commit .env to git
# 3. Update .env.example when adding new variables
# 4. Use different values for development/staging/productionDATABASE_URL=postgresql://viktory_realty:viktory_realty_secure_password_2024@localhost:5432/viktory_realty_production
