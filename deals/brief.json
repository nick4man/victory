{
  "project_name": "CrewAI",
  "domain": "Real Estate — Contract Analysis (агентство недвижимости, РФ)",
  "description": "Система для команды аналитики договоров купли‑продажи агентства недвижимости (расположенного на территории РФ). Основные функции: приём и автоматическая обработка входящих документов (Microsoft Word, PDF), извлечение ключевых условий и рисков, сопоставление с актуальным законодательством, хранение/версионирование документов в Nextcloud, веб‑интерфейс для сотрудников агентства и средства контроля/аудита.",
  "required_capabilities": [
    "Импорт документов: DOCX, PDF (включая OCR для сканов)",
    "Парсинг структуры договора: разделы, пункты, реквизиты сторон, сроки, суммы, обязательства",
    "Извлечение сущностей и фактов (Named Entity Recognition): стороны, даты, суммы, условия расторжения, штрафы, обязанности",
    "Классификация и сводка рисков: автоматическое выделение потенциально проблемных пунктов",
    "Сопоставление с законодательной базой: поиск и ссылка на актуальные нормативные акты РФ",
    "Поиск по корпусу документов и законодательству (full‑text + фильтры)",
    "Интеграция с Nextcloud для хранения/синхронизации документов",
    "Пользовательский веб‑интерфейс: загрузка файла, просмотр извлечённых полей, правки, комментарии, рабочие статусы",
    "Многопользовательская роль‑модель: сотрудники, аналитики, администраторы; аудит действий",
    "Логирование и аудит (доступы, изменения, экспорт результатов)",
    "Экспорт отчётов и результатов (PDF, DOCX, CSV, JSON)",
    "Менеджер версий/история изменений по документу",
    "Модуль обновления/контроля релевантности правовой информации (агент/скрейпер/интеграция с легальными источниками)",
    "Механизмы конфиденциальности и шифрования (данные в покое и при передаче)",
    "Интерфейс API для интеграции (REST/GraphQL) — спецификация API",
    "Механизмы отказоустойчивости и бэкапа"
  ],
  "integrations": {
    "web_search": {
      "required": true,
      "purpose": "Поддерживать актуальность законодательной базы и иметь возможность проверять/ссылаться на нормы и судебную практику.",
      "notes": "Доступ в интернет одобрен пользователем; необходимо уточнить список доверенных источников/доменов и требования к логированию/кешированию."
    },
    "databases": [
      "Nextcloud (основная система хранения/синхронизации)",
      "Реляционная БД для метаданных и пользователей (рекомендуется PostgreSQL)",
      "Поисковый индекс для full‑text (рекомендуется Elasticsearch/OpenSearch или аналоги)"
    ],
    "apis": [
      "Nextcloud API (обязательная интеграция)",
      "Внешние правовые/законодательные API (по согласованию)",
      "Опционально: API для проверки контрагентов/реестров, э‑подписей, e‑mail/уведомлений"
    ]
  },
  "constraints": {
    "cost_priority": "качественный",
    "quality_scale": 9,
    "data_residency": "РФ (с учётом того, что агентство находится на территории РФ) — требуется уточнить требование к хранению персональных данных и локализации",
    "security_requirements": [
      "Шифрование данных в покое и при передаче (TLS, AES‑256 или эквивалент)",
      "Аутентификация и авторизация (рекомендуется поддержка SSO/AD/IdP)",
      "Аудит и логирование доступа к документам",
      "Политика резервного копирования и восстановления",
      "Соответствие российскому законодательству по ПДн (требуется конкретизация)"
    ],
    "performance_requirements": "Уточнить: ожидаемый объём документов в месяц и SLA по скорости обработки",
    "open_internet": "Разрешён (user подтвердил 'да'), но требуется уточнить ограничения/прокси/список разрешённых доменов и требования к логированию вызовов"
  },
  "deployment": {
    "docker_required": false,
    "notes": "Пользователь указал, что Docker контейнеризация не требуется. Рекомендуется предусмотреть модульную архитектуру, совместимую с контейнерами на будущее (опционально).",
    "services_list": [
      {
        "name": "web_app",
        "description": "Пользовательский интерфейс и API шлюз (веб‑форма для загрузки документов и работы аналитиков)."
      },
      {
        "name": "worker_queue",
        "description": "Асинхронные рабочие процессы для парсинга, OCR и извлечения данных."
      },
      {
        "name": "document_storage_connector",
        "description": "Интегратор с Nextcloud для синхронизации/хранения исходных документов."
      },
      {
        "name": "database",
        "description": "Реляционная БД для метаданных, пользователей, прав."
      },
      {
        "name": "search_index",
        "description": "Поисковая подсистема (full‑text / фильтрация)."
      },
      {
        "name": "legal_db_updater",
        "description": "Компонент для обновления/верификации законодательной базы (использует web_search / API)."
      },
      {
        "name": "auth_audit",
        "description": "Сервис аутентификации/авторизации и аудита."
      },
      {
        "name": "backup_and_monitoring",
        "description": "Сервисы бэкапа, мониторинга и логирования."
      }
    ],
    "recommended_future_options": [
      "Контейнеризация (Docker) и оркестрация (Kubernetes) для production‑развёртывания при росте нагрузки",
      "CI/CD (GitHub Actions / GitLab CI) для автоматического тестирования и релизов"
    ]
  },
  "documentation": {
    "languages": [
      "ru",
      "en"
    ],
    "deliverables": [
      "Техническое задание (detailed technical specification) — RU + EN",
      "Архитектурная диаграмма и описание компонентов — RU + EN",
      "API спецификация (OpenAPI/Swagger) — EN (и RU при необходимости)",
      "Пользовательское руководство (User Guide) — RU (приоритет) и EN",
      "Развёртывание и эксплуатационная документация (Deployment guide) — EN + RU",
      "Security and compliance checklist — EN + RU"
    ],
    "priority_notes": "Пользователь выбрал двуязычную документацию; первичный интерфейс и обучение сотрудников — на русском."
  },
  "user_preferences": {
    "cost_vs_quality": "качественный",
    "documentation_languages": [
      "ru",
      "en"
    ],
    "docker_containerization_required": false,
    "agents_need_internet_access": "да",
    "original_request_text": "Команда аналитики договоров купли-продажи агентства недвижимости, расположенного на территории РФ. Важно иметь актуальную информацию по законодательству, уметь обрабатывать входящие файлы в форматах Microsoft Word и PDF.",
    "additional_notes_from_user": "Интеграция с Nextcloud. Целевой пользователь — сотрудник агентства недвижимости. Взаимодействие через веб‑форму."
  },
  "open_questions": [
    "Хостинг: требуется ли on‑premise (в инфраструктуре агентства) или допустим cloud (и какой провайдер)?",
    "Требования к локализации/резидентности данных: все данные должны храниться исключительно на территории РФ?",
    "Конкретные правовые источники/базы, с которыми нужно интегрироваться (ФЗ, КонсультантПлюс/Гарант/конкретные сайты)? Наличие платных подписок?",
    "Объём: ожидаемый объём документов в месяц, средний размер файла, ожидаемая скорость обработки (SLA) и приоритет очередности?",
    "Требования к OCR: какой процент документов — сканы vs цифровые версии?",
    "Требования к аутентификации: нужна ли интеграция с корпоративной AD/SSO (например, LDAP, SAML, OAuth)?",
    "Требования по уровню безопасности/сертификации (например, ФСТЭК/ФСБ/иные требования для обработки ПДн) — есть ли формальные ограничения?",
    "Требования к резервному копированию и времени восстановления (RPO/RTO)?",
    "Интеграции с другими системами (CRM, ERP) помимо Nextcloud — нужны ли они сейчас или в roadmap?",
    "Нужна ли возможность автономной работы (offline) без доступа в интернет, и при каких условиях?",
    "Права на модели и обработку данных: допускается ли использование внешних LLM‑сервисов (облако) или все ML‑модели должны быть on‑premise?",
    "Бюджетные рамки и сроки реализации/критические дедлайны?"
  ]
}