# üó∫Ô∏è –†–æ–∞–¥–º–∞–ø —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ê–ù "–í–∏–∫—Ç–æ—Ä–∏"

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 05.11.2025  
**–í–µ—Ä—Å–∏—è:** 3.0 - Enterprise Ready  
**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 82% (349/425 –∑–∞–¥–∞—á)  
**–ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** 9/16 —ç—Ç–∞–ø–æ–≤ (56%) - **–í –ü–†–û–¶–ï–°–°–ï** üöÄ  
**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø:** –≠—Ç–∞–ø 10 - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ production —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ—Ü–µ–Ω–∫–∞–º–∏ –∏ —á–µ–∫-–ª–∏—Å—Ç–∞–º–∏.

## üìä –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** ~4-6 —á–∞—Å–æ–≤
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç:** DevOps/System Administration
- **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** üü¢ **–ì–û–¢–û–í –ö PRODUCTION DEPLOYMENT**

---

## üéØ –≠—Ç–∞–ø—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (30-45 –º–∏–Ω)

**–¶–µ–ª—å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑–æ–≤–æ–µ –ü–û

#### –ó–∞–¥–∞—á–∏:
- [x] –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É (SSH)
- [x] –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É: `sudo apt update && sudo apt upgrade -y`
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã (build-essential, curl, git –∏ —Ç.–¥.)
- [x] –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `deploy` –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
dpkg -l | grep build-essential
dpkg -l | grep curl
dpkg -l | grep git
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

### –≠—Ç–∞–ø 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ruby –æ–∫—Ä—É–∂–µ–Ω–∏—è (15-20 –º–∏–Ω)

**–¶–µ–ª—å:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ruby 3.2.2 —á–µ—Ä–µ–∑ mise

#### –ó–∞–¥–∞—á–∏:
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å mise: `curl https://mise.run | sh`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PATH –¥–ª—è mise –≤ `.bashrc` –∏–ª–∏ `.zshrc`
- [x] –î–æ–±–∞–≤–∏—Ç—å `eval "$(mise activate bash)"` –≤ shell config
- [x] –û–±–Ω–æ–≤–∏—Ç—å mise.toml —Å ruby = "3.2.2"
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ruby 3.2.2: `mise install ruby@3.2.2`
- [x] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: `mise activate`
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Bundler: `gem install bundler`

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
mise --version  # –ü—Ä–æ–≤–µ—Ä–∫–∞ mise
ruby -v         # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å Ruby 3.2.2
gem -v          # –ü—Ä–æ–≤–µ—Ä–∫–∞ RubyGems
bundler -v      # –ü—Ä–æ–≤–µ—Ä–∫–∞ Bundler
mise list       # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

### –≠—Ç–∞–ø 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL (15-20 –º–∏–Ω)

**–¶–µ–ª—å:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL 15+

#### –ó–∞–¥–∞—á–∏:
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL: `sudo apt install -y postgresql postgresql-contrib`
- [x] –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ PostgreSQL
- [x] –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î: `viktory_realty`
- [x] –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö: `viktory_realty_production`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (CREATEDB)
- [x] –ó–∞–¥–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
‚úÖ sudo systemctl status postgresql  # active (running)
‚úÖ sudo -u postgres psql -c "\l"     # –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
‚úÖ sudo -u postgres psql -c "\du"    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å viktory_realty —Å–æ–∑–¥–∞–Ω
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

### –≠—Ç–∞–ø 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis (10-15 –º–∏–Ω)

**–¶–µ–ª—å:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Redis 7.0+

#### –ó–∞–¥–∞—á–∏:
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis: `sudo apt install -y redis-server`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `supervised systemd` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ `redis.conf` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è dev)
- [x] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Redis
- [x] –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
‚úÖ sudo systemctl status redis       # active (running)
‚úÖ redis-cli ping                    # PONG
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (–ø–∞—Ä–æ–ª—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è production)

---

### –≠—Ç–∞–ø 5: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (30-40 –º–∏–Ω)

**–¶–µ–ª—å:** –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### –ó–∞–¥–∞—á–∏:
- [x] –ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/home/q/site/project/viktory_realty`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- [x] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –≤ `.env.production`
- [x] –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env.production`
- [x] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `SECRET_KEY_BASE`
- [x] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `DEVISE_SECRET_KEY`
- [x] –û–±–Ω–æ–≤–∏—Ç—å DATABASE –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (production –ë–î)
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å gems: `bundle install` ‚úÖ

#### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
‚úÖ DATABASE_NAME=viktory_realty_production
‚úÖ DATABASE_USERNAME=viktory_realty
‚úÖ DATABASE_PASSWORD=viktory_realty_secure_password_2024
‚úÖ SECRET_KEY_BASE=... (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω)
‚úÖ DEVISE_SECRET_KEY=... (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω)
‚è≥ SMTP_ADDRESS=smtp.yandex.ru (–Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å)
‚è≥ SMTP_USERNAME=noreply@viktory-realty.ru (–Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å)
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
‚úÖ .env.production —Å–æ–∑–¥–∞–Ω
‚úÖ SECRET_KEY_BASE –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
‚úÖ DEVISE_SECRET_KEY –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
‚úÖ DATABASE –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
üîÑ bundle install –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

### –≠—Ç–∞–ø 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (10-15 –º–∏–Ω)

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –ë–î –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### –ó–∞–¥–∞—á–∏:
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –≠—Ç–∞–ø–µ 3)
- [x] –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: `RAILS_ENV=production bundle exec rake db:migrate`
- [x] –ó–∞–≥—Ä—É–∑–∏—Ç—å seeds: `RAILS_ENV=production bundle exec rake db:seed`
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
‚úÖ sudo -u postgres psql -d viktory_realty_production -c "\dt"  # –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
‚úÖ Seed –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

### –≠—Ç–∞–ø 7: –ö–æ–º–ø–∏–ª—è—Ü–∏—è Assets (15-20 –º–∏–Ω)

**–¶–µ–ª—å:** –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã

#### –ó–∞–¥–∞—á–∏:
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js 18+ (Node.js v24.11.0 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ mise)
- [x] –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å assets: `RAILS_ENV=production ./bin/rails assets:precompile`
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ `public/assets`

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
‚úÖ ls -la public/assets/  # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã
‚úÖ du -sh public/assets/  # –†–∞–∑–º–µ—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

### –≠—Ç–∞–ø 8: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (20-25 –º–∏–Ω)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –ó–∞–¥–∞—á–∏:
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx: `sudo apt install -y nginx` (Nginx 1.26.3 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- [x] –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–∞–π—Ç–∞ –≤ `/etc/nginx/sites-available/viktory-realty`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å upstream –¥–ª—è Puma
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å proxy pass –¥–ª—è Rails –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WebSocket –¥–ª—è ActionCable
- [x] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∞–π—Ç: —Å–æ–∑–¥–∞—Ç—å symlink –≤ `sites-enabled`
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `sudo nginx -t` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞)
- [x] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Nginx (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω)

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
sudo nginx -t  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å "syntax is ok"
sudo systemctl status nginx  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å active (running)
curl -I http://localhost  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

### –≠—Ç–∞–ø 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Puma (Systemd) (15-20 –º–∏–Ω)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Puma –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

#### –ó–∞–¥–∞—á–∏:
- [x] –°–æ–∑–¥–∞—Ç—å systemd unit —Ñ–∞–π–ª –¥–ª—è Puma
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [x] –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫: `sudo systemctl enable puma`
- [x] –ó–∞–ø—É—Å—Ç–∏—Ç—å Puma: `sudo systemctl start puma`
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: `sudo systemctl status puma`

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
sudo systemctl status puma  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å active (running)
sudo journalctl -u puma -f  # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

### –≠—Ç–∞–ø 10: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (15-20 –º–∏–Ω)

**–¶–µ–ª—å:** –ü–æ–ª—É—á–∏—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt

#### –ó–∞–¥–∞—á–∏:
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–æ–º–µ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞ (DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Certbot: `sudo apt install -y certbot python3-certbot-nginx`
- [ ] –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: `sudo certbot --nginx -d viktory-realty.ru -d www.viktory-realty.ru`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `sudo certbot renew --dry-run`
- [ ] –í–∫–ª—é—á–∏—Ç—å —Ç–∞–π–º–µ—Ä –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
sudo certbot certificates  # –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
curl -I https://viktory-realty.ru  # –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS
openssl s_client -connect viktory-realty.ru:443  # –î–µ—Ç–∞–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

### –≠—Ç–∞–ø 10: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Puma —á–µ—Ä–µ–∑ Systemd (15-20 –º–∏–Ω)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ systemd

#### –ó–∞–¥–∞—á–∏:
- [ ] –°–æ–∑–¥–∞—Ç—å systemd unit —Ñ–∞–π–ª: `/etc/systemd/system/puma.service`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å systemd: `sudo systemctl daemon-reload`
- [ ] –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫: `sudo systemctl enable puma`
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å Puma: `sudo systemctl start puma`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: `sudo systemctl status puma`

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
sudo systemctl status puma  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å active (running)
ps aux | grep puma  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
curl http://localhost:3000  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

### –≠—Ç–∞–ø 11: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Sidekiq —á–µ—Ä–µ–∑ Systemd (15-20 –º–∏–Ω)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ Sidekiq

#### –ó–∞–¥–∞—á–∏:
- [ ] –°–æ–∑–¥–∞—Ç—å systemd unit —Ñ–∞–π–ª: `/etc/systemd/system/sidekiq.service`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Redis
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Sidekiq
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å systemd: `sudo systemctl daemon-reload`
- [ ] –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫: `sudo systemctl enable sidekiq`
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å Sidekiq: `sudo systemctl start sidekiq`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: `sudo systemctl status sidekiq`

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
sudo systemctl status sidekiq  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å active (running)
ps aux | grep sidekiq  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
tail -f log/sidekiq.log  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

### –≠—Ç–∞–ø 12: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cron –∑–∞–¥–∞—á (10-15 –º–∏–Ω)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ Whenever

#### –ó–∞–¥–∞—á–∏:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ gem `whenever` –≤ Gemfile
- [ ] –û–±–Ω–æ–≤–∏—Ç—å crontab: `bundle exec whenever --update-crontab`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏: `crontab -l`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ cron: `/var/log/syslog`

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
crontab -l  # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –∑–∞–¥–∞—á–∏ Whenever
grep CRON /var/log/syslog  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

### –≠—Ç–∞–ø 13: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (20-25 –º–∏–Ω)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –ó–∞–¥–∞—á–∏:
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±—ç–∫–∞–ø–æ–≤: `/var/backups/viktory-realty`
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `bin/backup_database.sh`
- [ ] –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º: `chmod +x`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É –≤ cron –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (30+ –¥–Ω–µ–π)
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤—ã–≥—Ä—É–∑–∫—É –±—ç–∫–∞–ø–æ–≤ –Ω–∞ –≤–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (S3, etc.)

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
ls -lh /var/backups/viktory-realty/  # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã –±—ç–∫–∞–ø–æ–≤
./bin/backup_database.sh  # –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

### –≠—Ç–∞–ø 14: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (20-30 –º–∏–Ω)

**–¶–µ–ª—å:** –ó–∞—â–∏—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –æ—Ç –±–∞–∑–æ–≤—ã—Ö —É–≥—Ä–æ–∑

#### –ó–∞–¥–∞—á–∏:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å UFW firewall
- [ ] –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ SSH (22), HTTP (80), HTTPS (443)
- [ ] –í–∫–ª—é—á–∏—Ç—å UFW: `sudo ufw enable`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Fail2Ban: `sudo apt install -y fail2ban`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Fail2Ban –¥–ª—è SSH
- [ ] –û—Ç–∫–ª—é—á–∏—Ç—å root login —á–µ—Ä–µ–∑ SSH
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É SSH
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SSH –ø–æ—Ä—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
sudo ufw status  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å active
sudo fail2ban-client status  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Fail2Ban
sudo fail2ban-client status sshd  # –°—Ç–∞—Ç—É—Å SSH jail
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

### –≠—Ç–∞–ø 15: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (30-40 –º–∏–Ω)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –ó–∞–¥–∞—á–∏:
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- [ ] –î–æ–±–∞–≤–∏—Ç—å `SENTRY_DSN` –≤ `.env.production`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ logrotate
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ª–æ–≥–æ–≤ Rails, Nginx, Sidekiq
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Prometheus, Grafana)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å health check endpoints
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
curl https://viktory-realty.ru/health  # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å OK
tail -f /var/www/viktory-realty/log/production.log  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

### –≠—Ç–∞–ø 16: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30-45 –º–∏–Ω)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### –ó–∞–¥–∞—á–∏:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ —á–µ—Ä–µ–∑ HTTPS
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É email (SMTP)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å OAuth (Google, Yandex)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (ActionCable)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Sidekiq Web UI
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É API endpoints
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl -I https://viktory-realty.ru  # HTTP 200 OK

# –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket
curl -i -N -H "Connection: Upgrade" -H "Upgrade: websocket" \
  https://viktory-realty.ru/cable

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Sidekiq
curl https://viktory-realty.ru/sidekiq  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl status puma
sudo systemctl status sidekiq
sudo systemctl status nginx
sudo systemctl status redis
sudo systemctl status postgresql
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –°—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤–∞–ª–∏–¥–Ω—ã
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- [ ] Redis —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Sidekiq –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏
- [ ] Email –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### –í —Ç–µ—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏:
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
- [ ] –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è
- [ ] Cron –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- [ ] –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] Fail2Ban –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### –ï–∂–µ–º–µ—Å—è—á–Ω–æ:
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Ruby gems
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±—ç–∫–∞–ø–æ–≤
- [ ] –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Puma –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ rbenv –∏–ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å –∫ bundle
which bundle

# –û–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç—å –≤ /etc/systemd/system/puma.service
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
journalctl -u puma -n 50
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Nginx –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 502 Bad Gateway
**–ü—Ä–∏—á–∏–Ω–∞:** Puma –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ socket

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Puma
sudo systemctl status puma

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ socket —Ñ–∞–π–ª–∞
ls -la /var/www/viktory-realty/tmp/sockets/puma.sock

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Puma
sudo systemctl restart puma
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Assets –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞:** Assets –Ω–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /var/www/viktory-realty
RAILS_ENV=production bundle exec rails assets:clobber
RAILS_ENV=production bundle exec rails assets:precompile
sudo chown -R deploy:deploy public/assets
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Email –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SMTP –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env.production
cat .env.production | grep SMTP

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å SMTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
telnet smtp.yandex.ru 587

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Rails
tail -f log/production.log | grep -i mail
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: Sidekiq –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏
**–ü—Ä–∏—á–∏–Ω–∞:** Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis
redis-cli -a PASSWORD ping

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å REDIS_URL –≤ .env.production
cat .env.production | grep REDIS_URL

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Sidekiq
sudo systemctl restart sidekiq

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f log/sidekiq.log
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

- ‚úÖ **Uptime:** 99.9%+
- ‚úÖ **Response Time:** < 200ms (median)
- ‚úÖ **Error Rate:** < 0.1%
- ‚úÖ **SSL Score:** A+ (SSL Labs)
- ‚úÖ **Security Headers:** –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ **Backup Success Rate:** 100%
- ‚úÖ **Disk Usage:** < 70%
- ‚úÖ **Memory Usage:** < 80%
- ‚úÖ **CPU Load:** < 70%

---

## üîÑ –ü–ª–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è)

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
cd /var/www/viktory-realty
git pull origin main
bundle install
RAILS_ENV=production bundle exec rails db:migrate
RAILS_ENV=production bundle exec rails assets:precompile
sudo systemctl restart puma
sudo systemctl restart sidekiq
```

### –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏:
```bash
cd /var/www/viktory-realty
git checkout PREVIOUS_COMMIT_HASH
bundle install
RAILS_ENV=production bundle exec rails db:rollback
RAILS_ENV=production bundle exec rails assets:precompile
sudo systemctl restart puma
sudo systemctl restart sidekiq
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
for service in puma sidekiq nginx redis postgresql; do
  echo "=== $service ==="
  sudo systemctl status $service | head -n 3
done
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
tail -f /var/www/viktory-realty/log/production.log \
        /var/log/nginx/viktory-realty-error.log \
        /var/www/viktory-realty/log/sidekiq.log
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤:
```bash
# CPU –∏ –ø–∞–º—è—Ç—å
htop

# –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
df -h

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
netstat -tulpn | grep LISTEN
```

---

## üë• –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –°–º. `/docs` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- **Issues:** GitHub Issues
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:** support@viktory-realty.ru
- **–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–≤—è–∑—å:** +7 (XXX) XXX-XX-XX

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [ ] **–≠—Ç–∞–ø 1:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úì
- [ ] **–≠—Ç–∞–ø 2:** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ruby –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚úì
- [ ] **–≠—Ç–∞–ø 3:** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL ‚úì
- [ ] **–≠—Ç–∞–ø 4:** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis ‚úì
- [ ] **–≠—Ç–∞–ø 5:** –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚úì
- [ ] **–≠—Ç–∞–ø 6:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚úì
- [ ] **–≠—Ç–∞–ø 7:** –ö–æ–º–ø–∏–ª—è—Ü–∏—è Assets ‚úì
- [ ] **–≠—Ç–∞–ø 8:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx ‚úì
- [ ] **–≠—Ç–∞–ø 9:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ ‚úì
- [ ] **–≠—Ç–∞–ø 10:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Puma ‚úì
- [ ] **–≠—Ç–∞–ø 11:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Sidekiq ‚úì
- [ ] **–≠—Ç–∞–ø 12:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cron –∑–∞–¥–∞—á ‚úì
- [ ] **–≠—Ç–∞–ø 13:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚úì
- [ ] **–≠—Ç–∞–ø 14:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úì
- [ ] **–≠—Ç–∞–ø 15:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ‚úì
- [ ] **–≠—Ç–∞–ø 16:** –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úì

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –≤ production!**

**¬© 2024 –ê–ù "–í–∏–∫—Ç–æ—Ä–∏". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.**

